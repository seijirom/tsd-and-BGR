Version 4
SHEET 1 1836 1236
WIRE -304 -368 -416 -368
WIRE -208 -368 -304 -368
WIRE -112 -368 -208 -368
WIRE 0 -368 -112 -368
WIRE 160 -368 0 -368
WIRE 272 -368 160 -368
WIRE 432 -368 272 -368
WIRE 560 -368 432 -368
WIRE 704 -368 560 -368
WIRE 832 -368 704 -368
WIRE -304 -352 -304 -368
WIRE 224 -320 -48 -320
WIRE -112 -288 -112 -368
WIRE -112 -288 -144 -288
WIRE 0 -288 0 -368
WIRE 0 -288 -32 -288
WIRE 160 -288 160 -368
WIRE 160 -288 128 -288
WIRE 272 -288 272 -368
WIRE 272 -288 240 -288
WIRE 432 -288 432 -368
WIRE 432 -288 400 -288
WIRE 560 -288 560 -368
WIRE 560 -288 528 -288
WIRE 704 -288 704 -368
WIRE 704 -288 672 -288
WIRE 832 -288 832 -368
WIRE 832 -288 800 -288
WIRE -304 -256 -304 -272
WIRE -304 -256 -368 -256
WIRE -144 -240 -144 -288
WIRE -112 -240 -144 -240
WIRE -48 -240 -48 -320
WIRE -32 -240 -32 -288
WIRE 0 -240 -32 -240
WIRE 80 -240 64 -240
WIRE 128 -240 128 -288
WIRE 160 -240 128 -240
WIRE 224 -240 224 -320
WIRE 240 -240 240 -288
WIRE 272 -240 240 -240
WIRE 400 -240 400 -288
WIRE 432 -240 400 -240
WIRE 528 -240 528 -288
WIRE 560 -240 528 -240
WIRE 640 -240 624 -240
WIRE 672 -240 672 -288
WIRE 704 -240 672 -240
WIRE 800 -240 800 -288
WIRE 832 -240 800 -240
WIRE 912 -240 896 -240
WIRE 80 -144 80 -240
WIRE 80 -144 -368 -144
WIRE -208 -112 -208 -368
WIRE -144 -112 -208 -112
WIRE -16 -112 -144 -112
WIRE 128 -112 -16 -112
WIRE 256 -112 128 -112
WIRE 400 -112 256 -112
WIRE 528 -112 400 -112
WIRE 672 -112 528 -112
WIRE 800 -112 672 -112
WIRE -112 -96 -112 -192
WIRE 0 -96 0 -192
WIRE 160 -96 160 -192
WIRE 272 -96 272 -192
WIRE 432 -96 432 -192
WIRE 560 -96 560 -192
WIRE 704 -96 704 -192
WIRE 832 -96 832 -192
WIRE -144 -48 -144 -112
WIRE -112 -48 -144 -48
WIRE -48 -48 -48 -240
WIRE -16 -48 -16 -112
WIRE 0 -48 -16 -48
WIRE 80 -48 80 -144
WIRE 80 -48 64 -48
WIRE 128 -48 128 -112
WIRE 160 -48 128 -48
WIRE 224 -48 224 -240
WIRE 256 -48 256 -112
WIRE 272 -48 256 -48
WIRE 336 -48 336 -240
WIRE 400 -48 400 -112
WIRE 432 -48 400 -48
WIRE 496 -48 496 -240
WIRE 528 -48 528 -112
WIRE 560 -48 528 -48
WIRE 640 -48 640 -240
WIRE 640 -48 624 -48
WIRE 672 -48 672 -112
WIRE 704 -48 672 -48
WIRE 768 -48 768 -240
WIRE 800 -48 800 -112
WIRE 832 -48 800 -48
WIRE 912 -48 912 -240
WIRE 912 -48 896 -48
WIRE -112 32 -112 0
WIRE -48 32 -48 -48
WIRE -48 32 -112 32
WIRE -16 32 -48 32
WIRE 0 32 0 0
WIRE 0 32 -16 32
WIRE 80 32 80 -48
WIRE 160 32 160 0
WIRE 160 32 80 32
WIRE 272 32 272 0
WIRE 272 32 160 32
WIRE 336 32 336 -48
WIRE 336 32 272 32
WIRE 496 32 496 -48
WIRE 496 32 336 32
WIRE 640 32 640 -48
WIRE 640 32 496 32
WIRE 768 32 768 -48
WIRE 768 32 640 32
WIRE 912 32 912 -48
WIRE 912 32 768 32
WIRE -112 64 -112 32
WIRE 16 64 -112 64
WIRE 368 64 16 64
WIRE 432 64 432 0
WIRE 560 64 560 0
WIRE 560 64 432 64
WIRE 688 64 560 64
WIRE 704 64 704 0
WIRE 704 64 688 64
WIRE 832 64 832 0
WIRE 832 64 704 64
WIRE 160 80 160 32
WIRE 160 80 112 80
WIRE 272 80 160 80
WIRE -400 112 -448 112
WIRE -336 112 -400 112
WIRE -272 112 -336 112
WIRE -208 112 -272 112
WIRE -48 112 -208 112
WIRE 80 112 -48 112
WIRE 224 112 80 112
WIRE 336 112 224 112
WIRE 400 112 336 112
WIRE 432 112 400 112
WIRE 512 112 432 112
WIRE 560 112 512 112
WIRE 640 112 560 112
WIRE 688 112 688 64
WIRE 688 112 640 112
WIRE -400 128 -400 112
WIRE -272 128 -272 112
WIRE -112 128 -112 64
WIRE 16 128 16 64
WIRE 160 128 160 80
WIRE 272 128 272 80
WIRE 432 128 432 112
WIRE 560 128 560 112
WIRE -400 176 -496 176
WIRE -336 176 -336 112
WIRE -272 176 -304 176
WIRE -208 176 -208 112
WIRE -112 176 -160 176
WIRE -48 176 -48 112
WIRE 16 176 -16 176
WIRE 80 176 80 112
WIRE 160 176 128 176
WIRE 224 176 224 112
WIRE 272 176 256 176
WIRE 336 176 336 112
WIRE 432 176 416 176
WIRE 512 176 512 112
WIRE 512 176 496 176
WIRE 560 176 544 176
WIRE 640 176 640 112
WIRE 640 176 624 176
WIRE -496 208 -496 176
WIRE -304 208 -304 176
WIRE -304 208 -496 208
WIRE -160 208 -160 176
WIRE -160 208 -304 208
WIRE -16 208 -16 176
WIRE -16 208 -160 208
WIRE 128 208 128 176
WIRE 128 208 -16 208
WIRE 256 208 256 176
WIRE 256 208 128 208
WIRE 416 208 416 176
WIRE 416 208 256 208
WIRE 544 208 544 176
WIRE 544 208 416 208
WIRE -112 240 -112 224
WIRE 16 240 16 224
WIRE 16 240 -112 240
WIRE 160 240 160 224
WIRE 272 240 272 224
WIRE 272 240 160 240
WIRE 16 272 -80 272
WIRE 112 272 112 80
WIRE 112 272 16 272
WIRE 80 288 80 176
WIRE 80 288 -16 288
WIRE 400 288 400 112
WIRE 400 288 272 288
WIRE -336 304 -336 176
WIRE -336 304 -368 304
WIRE -304 304 -336 304
WIRE -208 304 -208 176
WIRE -208 304 -240 304
WIRE -176 304 -208 304
WIRE -80 304 -80 272
WIRE 16 304 16 272
WIRE 336 304 208 304
WIRE 368 304 368 64
WIRE 368 304 336 304
WIRE 512 304 512 176
WIRE 512 304 480 304
WIRE 544 304 512 304
WIRE 640 304 640 176
WIRE 640 304 608 304
WIRE 672 304 640 304
WIRE -368 352 -416 352
WIRE -304 352 -304 304
WIRE -240 352 -256 352
WIRE -176 352 -176 304
WIRE -80 352 -96 352
WIRE -16 352 -16 288
WIRE 16 352 0 352
WIRE 80 352 80 288
WIRE 208 352 192 352
WIRE 272 352 272 288
WIRE 336 352 304 352
WIRE 400 352 400 288
WIRE 480 352 448 352
WIRE 544 352 544 304
WIRE 608 352 576 352
WIRE 672 352 672 304
WIRE -496 384 -496 208
WIRE -416 384 -416 352
WIRE -416 384 -496 384
WIRE -256 384 -256 352
WIRE -256 384 -416 384
WIRE -96 384 -96 352
WIRE -96 384 -256 384
WIRE 0 384 0 352
WIRE 0 384 -96 384
WIRE 192 384 192 352
WIRE 192 384 0 384
WIRE 304 384 304 352
WIRE 304 384 192 384
WIRE 448 384 448 352
WIRE 448 384 304 384
WIRE 576 384 576 352
WIRE 576 384 448 384
WIRE 16 400 -80 400
WIRE 160 400 160 240
WIRE 160 400 16 400
WIRE -112 432 -112 240
WIRE 208 432 208 400
WIRE 208 432 -112 432
WIRE 336 432 336 400
WIRE 336 432 208 432
WIRE -400 464 -400 224
WIRE -368 464 -368 400
WIRE -368 464 -400 464
WIRE -272 464 -272 224
WIRE -272 464 -368 464
WIRE -240 464 -240 400
WIRE -240 464 -272 464
WIRE 432 464 432 224
WIRE 432 464 -240 464
WIRE 480 464 480 400
WIRE 480 464 432 464
WIRE 560 464 560 224
WIRE 560 464 480 464
WIRE 608 464 608 400
WIRE 608 464 560 464
WIRE 432 496 432 464
WIRE 640 496 432 496
WIRE 736 496 640 496
WIRE 784 496 736 496
WIRE -256 512 -304 512
WIRE -208 512 -256 512
WIRE -128 512 -208 512
WIRE -80 512 -128 512
WIRE -32 512 -80 512
WIRE 112 512 -32 512
WIRE 160 512 160 400
WIRE 160 512 112 512
WIRE 208 512 160 512
WIRE -256 528 -256 512
WIRE -80 528 -80 512
WIRE 160 528 160 512
WIRE 512 528 432 528
WIRE 640 528 640 496
WIRE 736 528 736 496
WIRE 432 544 432 528
WIRE -304 592 -304 512
WIRE -208 592 -208 512
WIRE -128 592 -128 512
WIRE -32 592 -32 512
WIRE 112 592 112 512
WIRE 208 592 208 512
WIRE -256 624 -256 592
WIRE -80 624 -80 592
WIRE -80 624 -256 624
WIRE 160 624 160 592
WIRE 160 624 -80 624
WIRE 432 640 432 624
WIRE -304 656 -304 592
WIRE -256 656 -304 656
WIRE -208 656 -256 656
WIRE -112 656 -112 432
WIRE -112 656 -160 656
WIRE -64 656 -112 656
WIRE 48 656 0 656
WIRE 96 656 48 656
WIRE 208 656 208 592
WIRE 208 656 96 656
WIRE 640 656 640 608
WIRE 736 656 736 608
WIRE 736 656 640 656
WIRE 784 656 736 656
WIRE -256 672 -256 656
WIRE -112 672 -112 656
WIRE 48 672 48 656
WIRE 640 672 640 656
WIRE 736 672 736 656
WIRE -304 736 -304 656
WIRE -208 736 -208 656
WIRE -160 736 -160 656
WIRE -64 736 -64 656
WIRE 0 736 0 656
WIRE 96 736 96 656
WIRE 432 736 432 720
WIRE -256 784 -256 736
WIRE 48 784 48 736
WIRE 48 784 -256 784
WIRE 160 784 160 624
WIRE 160 784 48 784
WIRE 640 800 640 752
WIRE 736 800 736 752
WIRE 736 800 640 800
WIRE 784 800 736 800
WIRE -304 816 -304 736
WIRE -256 816 -304 816
WIRE -208 816 -256 816
WIRE -128 816 -208 816
WIRE -80 816 -128 816
WIRE -32 816 -80 816
WIRE 0 816 -32 816
WIRE 48 816 0 816
WIRE 96 816 48 816
WIRE 160 816 160 784
WIRE 160 816 128 816
WIRE 640 816 640 800
WIRE -256 832 -256 816
WIRE -80 832 -80 816
WIRE 48 832 48 816
WIRE 432 832 432 816
WIRE -304 896 -304 816
WIRE -208 896 -208 816
WIRE -128 896 -128 816
WIRE -32 896 -32 816
WIRE 0 896 0 816
WIRE 96 896 96 816
WIRE 160 896 160 816
WIRE 784 896 640 896
WIRE 640 912 640 896
WIRE -256 944 -256 896
WIRE -80 944 -80 896
WIRE -80 944 -256 944
WIRE 48 944 48 896
WIRE 48 944 -80 944
WIRE 128 944 128 816
WIRE 128 944 48 944
WIRE 432 944 432 912
WIRE -112 992 -112 736
WIRE 160 992 160 976
WIRE 160 992 -112 992
WIRE -288 1008 -384 1008
WIRE -224 1008 -288 1008
WIRE -128 1008 -176 1008
WIRE 0 1008 -80 1008
WIRE 96 1008 48 1008
WIRE 512 1008 512 528
WIRE 640 1008 640 992
WIRE 640 1008 512 1008
WIRE 304 1040 256 1040
WIRE 352 1040 304 1040
WIRE 384 1040 352 1040
WIRE 432 1040 432 1024
WIRE 432 1040 384 1040
WIRE 480 1040 432 1040
WIRE 784 1040 480 1040
WIRE 304 1056 304 1040
WIRE 432 1056 432 1040
WIRE -224 1088 -288 1088
WIRE -176 1088 -224 1088
WIRE -80 1088 -128 1088
WIRE 48 1088 0 1088
WIRE 160 1088 160 992
WIRE 160 1088 96 1088
WIRE 256 1120 256 1040
WIRE 352 1120 352 1040
WIRE 384 1120 384 1040
WIRE 480 1120 480 1040
WIRE -496 1152 -496 384
WIRE -384 1152 -384 1008
WIRE -384 1152 -496 1152
WIRE 224 1152 -384 1152
WIRE 304 1152 304 1120
WIRE 304 1152 224 1152
WIRE 432 1152 432 1120
WIRE 432 1152 304 1152
WIRE 560 1152 432 1152
WIRE 224 1200 224 1152
FLAG 224 1200 0
FLAG -416 -368 vin
IOPIN -416 -368 In
FLAG 784 496 vout
IOPIN 784 496 Out
FLAG 784 896 R1
IOPIN 784 896 BiDir
FLAG 784 800 R2
IOPIN 784 800 BiDir
FLAG 784 656 R3
IOPIN 784 656 BiDir
FLAG -368 -256 res1meg
IOPIN -368 -256 BiDir
FLAG -448 112 ext1meg
IOPIN -448 112 In
FLAG -16 96 0
FLAG -368 -144 vbg
IOPIN -368 -144 Out
FLAG 912 96 0
FLAG 784 1040 D
IOPIN 784 1040 Out
SYMBOL PMOS@PTS06LIB 496 -240 M0
SYMATTR InstName M19
SYMATTR Value2 l=1u w=20u
SYMBOL PMOS@PTS06LIB 224 -240 M0
SYMATTR InstName M17
SYMATTR Value2 l=1u w=20u
SYMBOL PMOS@PTS06LIB -48 -240 M0
SYMATTR InstName M11
SYMATTR Value2 l=1u w=20u
SYMBOL NMOS@PTS06LIB 496 176 M0
SYMATTR InstName M35
SYMATTR Value2 l=1u w=20u
SYMBOL NMOS@PTS06LIB 224 176 M0
SYMATTR InstName M31
SYMATTR Value2 l=1u w=20u
SYMBOL NMOS@PTS06LIB -48 176 M0
SYMATTR InstName M27
SYMATTR Value2 l=1u w=20u
SYMBOL res -320 -368 R0
SYMATTR InstName R1
SYMATTR Value 1Meg
SYMBOL res 144 880 R0
WINDOW 3 36 68 Left 2
SYMATTR Value {rhpo}
SYMATTR InstName R2
SYMBOL PMOS@PTS06LIB -112 672 M90
SYMATTR InstName M47
SYMATTR Value2 l=1u w=20u ad=20e-12 as=20e-12
SYMBOL PMOS@PTS06LIB 160 528 M90
SYMATTR InstName M45
SYMATTR Value2 l=1u w=20u ad=20e-12 as=20e-12
SYMBOL PMOS@PTS06LIB 432 1056 M90
SYMATTR InstName M53
SYMATTR Value2 l=1u w=20u ad=20e-12 as=20e-12
SYMBOL PMOS@PTS06LIB 624 -240 M0
SYMATTR InstName M22
SYMATTR Value2 l=1u w=20u
SYMBOL PMOS@PTS06LIB 336 -240 M0
SYMATTR InstName M18
SYMATTR Value2 l=1u w=20u
SYMBOL PMOS@PTS06LIB 64 -240 M0
SYMATTR InstName M12
SYMATTR Value2 l=1u w=20u
SYMBOL PMOS@PTS06LIB -48 -48 M0
SYMATTR InstName M13
SYMATTR Value2 l=1u w=20u
SYMBOL PMOS@PTS06LIB 64 -48 M0
SYMATTR InstName M14
SYMATTR Value2 l=1u w=20u
SYMBOL PMOS@PTS06LIB 224 -48 M0
SYMATTR InstName M15
SYMATTR Value2 l=1u w=20u
SYMBOL PMOS@PTS06LIB 336 -48 M0
SYMATTR InstName M16
SYMATTR Value2 l=1u w=20u
SYMBOL PMOS@PTS06LIB 496 -48 M0
SYMATTR InstName M20
SYMATTR Value2 l=1u w=20u
SYMBOL PMOS@PTS06LIB 624 -48 M0
SYMATTR InstName M21
SYMATTR Value2 l=1u w=20u
SYMBOL NMOS@PTS06LIB 544 352 M0
SYMATTR InstName M36
SYMATTR Value2 l=1u w=20u
SYMBOL NMOS@PTS06LIB -336 176 M0
SYMATTR InstName M23
SYMATTR Value2 l=1u w=20u
SYMBOL NMOS@PTS06LIB -304 352 M0
SYMATTR InstName M24
SYMATTR Value2 l=1u w=20u
SYMBOL NMOS@PTS06LIB 336 176 M0
SYMATTR InstName M32
SYMATTR Value2 l=1u w=20u
SYMBOL NMOS@PTS06LIB -16 352 M0
SYMATTR InstName M28
SYMATTR Value2 l=1u w=20u
SYMBOL NMOS@PTS06LIB 80 352 M0
SYMATTR InstName M29
SYMATTR Value2 l=1u w=20u
SYMBOL NMOS@PTS06LIB 80 176 M0
SYMATTR InstName M30
SYMATTR Value2 l=1u w=20u
SYMBOL NMOS@PTS06LIB 272 352 M0
SYMATTR InstName M33
SYMATTR Value2 l=1u w=20u
SYMBOL NMOS@PTS06LIB 400 352 M0
SYMATTR InstName M34
SYMATTR Value2 l=1u w=20u
SYMBOL PMOS@PTS06LIB -256 528 M90
SYMATTR InstName M43
SYMATTR Value2 l=1u w=20u ad=20e-12 as=20e-12
SYMBOL PMOS@PTS06LIB -256 672 M90
SYMATTR InstName M46
SYMATTR Value2 l=1u w=20u ad=20e-12 as=20e-12
SYMBOL PMOS@PTS06LIB -256 832 M90
SYMATTR InstName M49
SYMATTR Value2 l=1u w=20u ad=20e-12 as=20e-12
SYMBOL PMOS@PTS06LIB 48 672 M90
SYMATTR InstName M48
SYMATTR Value2 l=1u w=20u ad=20e-12 as=20e-12
SYMBOL PMOS@PTS06LIB -80 832 M90
SYMATTR InstName M50
SYMATTR Value2 l=1u w=20u ad=20e-12 as=20e-12
SYMBOL PMOS@PTS06LIB -80 528 M90
SYMATTR InstName M44
SYMATTR Value2 l=1u w=20u ad=20e-12 as=20e-12
SYMBOL PMOS@PTS06LIB 48 832 M90
SYMATTR InstName M51
SYMATTR Value2 l=1u w=20u ad=20e-12 as=20e-12
SYMBOL res -240 992 R0
SYMATTR InstName R6
SYMATTR Value {rhpo}
SYMBOL res -192 992 R0
SYMATTR InstName R7
SYMATTR Value {rhpo}
SYMBOL res -144 992 R0
SYMATTR InstName R8
SYMATTR Value {rhpo}
SYMBOL res -96 992 R0
SYMATTR InstName R9
SYMATTR Value {rhpo}
SYMBOL res -16 992 R0
SYMATTR InstName R10
SYMATTR Value {rhpo}
SYMBOL res 32 992 R0
SYMATTR InstName R11
SYMATTR Value {rhpo}
SYMBOL res 80 992 R0
SYMATTR InstName R12
SYMATTR Value {rhpo}
SYMBOL res 416 528 R0
SYMATTR InstName R4
SYMATTR Value {rhpo}
SYMBOL res 416 624 R0
SYMATTR InstName R14
SYMATTR Value {rhpo}
SYMBOL res 416 720 R0
SYMATTR InstName R15
SYMATTR Value {rhpo}
SYMBOL res 416 816 R0
SYMATTR InstName R16
SYMATTR Value {rhpo}
SYMBOL res 720 512 R0
SYMATTR InstName R17
SYMATTR Value {rhpo}
SYMBOL res 624 512 R0
SYMATTR InstName R18
SYMATTR Value {rhpo}
SYMBOL res 624 656 R0
SYMATTR InstName R19
SYMATTR Value {rhpo}
SYMBOL res 624 800 R0
SYMATTR InstName R20
SYMATTR Value {rhpo}
SYMBOL res 624 896 R0
SYMATTR InstName R21
SYMATTR Value {rhpo}
SYMBOL res 416 928 R0
SYMATTR InstName R22
SYMATTR Value {rhpo}
SYMBOL diode 0 96 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMBOL res 720 656 R0
SYMATTR InstName R3
SYMATTR Value {rhpo}
SYMBOL PMOS@PTS06LIB 304 1056 M90
SYMATTR InstName M52
SYMATTR Value2 l=1u w=20u ad=20e-12 as=20e-12
SYMBOL NMOS@PTS06LIB 624 176 M0
SYMATTR InstName M37
SYMATTR Value2 l=1u w=20u
SYMBOL NMOS@PTS06LIB 672 352 M0
SYMATTR InstName M38
SYMATTR Value2 l=1u w=20u
SYMBOL PMOS@PTS06LIB 768 -240 M0
SYMATTR InstName M42
SYMATTR Value2 l=1u w=20u
SYMBOL PMOS@PTS06LIB 896 -240 M0
SYMATTR InstName M39
SYMATTR Value2 l=1u w=20u
SYMBOL PMOS@PTS06LIB 768 -48 M0
SYMATTR InstName M40
SYMATTR Value2 l=1u w=20u
SYMBOL PMOS@PTS06LIB 896 -48 M0
SYMATTR InstName M41
SYMATTR Value2 l=1u w=20u
SYMBOL NMOS@PTS06LIB -208 176 M0
SYMATTR InstName M25
SYMATTR Value2 l=1u w=20u
SYMBOL NMOS@PTS06LIB -176 352 M0
SYMATTR InstName M26
SYMATTR Value2 l=1u w=20u
SYMBOL res -304 992 R0
SYMATTR InstName R5
SYMATTR Value {rhpo}
SYMBOL diode 928 96 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
TEXT 1656 152 Left 2 !.param rhpo=4k
